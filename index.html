<!DOCTYPE html>
<html>
<head>
  <title>Spotify Playlist Creator</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <button onclick="authorizeWithSpotify()">Authorize with Spotify</button>
  <div>
    <input type="text" id="artistInput" placeholder="Enter artist name">
    <button onclick="addArtist()">Add Artist</button>
  </div>
  <div>
    <h3>Artists:</h3>
    <ul id="artistList"></ul>
  </div>
  <button onclick="createPlaylist()">Create Playlist</button>

  <script>
    const clientID = 'YOUR_CLIENT_ID';
    const redirectURI = 'YOUR_REDIRECT_URI';
    const scopes = ['playlist-modify-public'];
    const authURL = `https://accounts.spotify.com/authorize?client_id=${clientID}&response_type=token&redirect_uri=${redirectURI}&scope=${scopes.join('%20')}`;

    let accessToken = '';

    function authorizeWithSpotify() {
      window.location.href = authURL;
    }

    function addArtist() {
      const artistInput = document.getElementById('artistInput');
      const artistName = artistInput.value.trim();
      if (artistName !== '') {
        const artistList = document.getElementById('artistList');
        const listItem = document.createElement('li');
        listItem.textContent = artistName;
        artistList.appendChild(listItem);
        artistInput.value = '';
      }
    }

    function createPlaylist() {
      const artistListItems = document.querySelectorAll('#artistList li');
      const artistNames = Array.from(artistListItems).map(item => item.textContent);

      if (artistNames.length === 0) {
        alert('Please add at least one artist to the list.');
        return;
      }

      if (!accessToken) {
        alert('Please authorize with Spotify first.');
        return;
      }

      // Create playlist with Spotify Web API
      const playlistName = 'My Playlist';
      const createPlaylistURL = 'https://api.spotify.com/v1/me/playlists';
      const createPlaylistOptions = {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${accessToken}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          name: playlistName,
          public: true
        })
      };

      fetch(createPlaylistURL, createPlaylistOptions)
        .then(response => response.json())
        .then(data => {
          const playlistID = data.id;
          const addTracksURL = `https://api.spotify.com/v1/playlists/${playlistID}/tracks`;
          const artistSearchURL = 'https://api.spotify.com/v1/search?type=artist';

          artistNames.forEach(artistName => {
            const searchOptions = {
              method: 'GET',
              headers: {
                'Authorization': `Bearer ${accessToken}`
              }
            };

            fetch(`${artistSearchURL}&q=${encodeURIComponent(artistName)}`, searchOptions)
              .then(response => response.json())
              .then(data => {
                const artistID = data.artists.items[0].id;
                const tracksURL = `https://api.spotify.com/v1/artists/${artistID}/top
